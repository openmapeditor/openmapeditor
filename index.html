<!DOCTYPE html>
<!-- OpenMapEditor - A web-based editor for creating and managing geographic data. -->
<!-- Copyright (C) 2025 Aron Sommer. See LICENSE file for full license details. -->
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OpenMapEditor</title>
    <meta
      name="description"
      content="OpenMapEditor is a simple, powerful web-based editor for creating, viewing, and managing geographic data like paths and markers. Built with Leaflet.js, it supports interactive drawing, file import/export (GPX, KML, KMZ), routing, elevation profiles, custom styling, and Strava activity integration."
    />

    <link rel="manifest" href="manifest.json" />

    <script src="d3-7.9.0/d3.min.js"></script>

    <script src="jszip-3.10.1/dist/jszip.js"></script>

    <link rel="stylesheet" href="leaflet-1.9.4/leaflet.css" />
    <script src="leaflet-1.9.4/leaflet.js"></script>

    <link rel="stylesheet" href="leaflet-draw-1.0.4/dist/leaflet.draw.css" />
    <script src="leaflet-draw-1.0.4/dist/leaflet.draw.js"></script>

    <link rel="stylesheet" href="leaflet-elevation-2.5.1/dist/leaflet-elevation.css" />
    <script src="leaflet-elevation-2.5.1/dist/leaflet-elevation.js"></script>

    <link rel="stylesheet" href="leaflet-geosearch-4.2.1/dist/geosearch.css" />
    <script src="leaflet-geosearch-4.2.1/dist/geosearch.umd.js"></script>

    <link rel="stylesheet" href="leaflet-locatecontrol-0.85.1/dist/L.Control.Locate.min.css" />
    <script src="leaflet-locatecontrol-0.85.1/dist/L.Control.Locate.min.js"></script>

    <link rel="stylesheet" href="leaflet-routing-machine-3.2.12/dist/leaflet-routing-machine.css" />
    <script src="leaflet-routing-machine-3.2.12/dist/leaflet-routing-machine.js"></script>

    <script src="polyline-encoded-0.0.9/Polyline.encoded.js"></script>

    <script src="simplify-js-1.2.4/simplify.js"></script>

    <link rel="stylesheet" href="sweetalert2-11.22.2/dist/sweetalert2.min.css" />
    <script src="sweetalert2-11.22.2/dist/sweetalert2.min.js"></script>

    <script src="togeojson-0.16.2/togeojson.js"></script>

    <link rel="stylesheet" href="style.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=add,altitude,arrow_left_alt,arrow_right_alt,cancel,chevron_left,chevron_right,content_copy,delete,diagonal_line,download,edit,elevation,folder_open,fullscreen,fullscreen_exit,heart_smile,help,info,landscape,layers,location_on,my_location,polyline,remove,settings,stacks,upload,visibility,visibility_off&display=block"
    />
  </head>
  <body data-nosnippet>
    <div id="map">
      <div id="search-container">
        <input type="text" id="search-input" placeholder="Search" autocomplete="off" />
        <div id="search-suggestions" class="autocomplete-suggestions"></div>
      </div>
      <div id="main-right-container">
        <div id="info-panel">
          <textarea id="info-panel-name" rows="1"></textarea>
          <p id="info-panel-details"></p>
          <p id="info-panel-edit-hint" style="display: none"></p>
          <a id="info-panel-strava-link" target="_blank" rel="noopener noreferrer"></a>
          <div id="info-panel-style-row">
            <div id="info-panel-color-swatch" title="Change color"></div>
            <span id="info-panel-layer-name"></span>
          </div>
          <div id="color-picker"></div>
        </div>

        <div id="tab-container">
          <div id="tab-buttons">
            <button id="tab-btn-overview" class="tab-button active" data-target="overview-panel">
              Contents
            </button>
            <button id="tab-btn-routing" class="tab-button" data-target="routing-panel">
              Routing
              <span id="routing-info-icon" class="material-symbols" title="Routing Help">info</span>
            </button>
            <button id="tab-btn-strava" class="tab-button" data-target="strava-panel">
              Strava
            </button>
            <button
              id="tab-btn-settings"
              class="tab-button"
              data-target="settings-panel"
              title="Settings"
            >
              <span class="material-symbols material-symbols-fill">settings</span>
            </button>
          </div>

          <div id="tab-content">
            <div id="overview-panel" class="tab-panel active">
              <div id="overview-panel-list"></div>
            </div>

            <div id="routing-panel" class="tab-panel">
              <div id="routing-panel-content">
                <div class="routing-input-group">
                  <input type="text" id="route-start" placeholder="Start" autocomplete="off" />
                  <button id="select-start-on-map" title="Select start point on map">
                    <span
                      class="material-symbols material-symbols-fill routing-panel-icon"
                      style="color: var(--routing-color-start)"
                      >location_on</span
                    >
                  </button>
                  <button
                    id="use-current-location-start"
                    title="Use my current location for start point"
                  >
                    <span class="material-symbols routing-panel-icon">my_location</span>
                  </button>
                  <button id="clear-point-start" title="Clear start point">
                    <span class="material-symbols material-symbols-fill routing-panel-icon"
                      >cancel</span
                    >
                  </button>
                  <div id="route-start-suggestions" class="autocomplete-suggestions"></div>
                </div>
                <div class="routing-input-group">
                  <input
                    type="text"
                    id="route-via"
                    placeholder="Via (optional)"
                    autocomplete="off"
                  />
                  <button id="select-via-on-map" title="Select via point on map">
                    <span
                      class="material-symbols material-symbols-fill routing-panel-icon"
                      style="color: var(--routing-color-via)"
                      >location_on</span
                    >
                  </button>
                  <button
                    id="use-current-location-via"
                    title="Use my current location for via point"
                  >
                    <span class="material-symbols routing-panel-icon">my_location</span>
                  </button>
                  <button id="clear-point-via" title="Clear via point">
                    <span class="material-symbols material-symbols-fill routing-panel-icon"
                      >cancel</span
                    >
                  </button>
                  <div id="route-via-suggestions" class="autocomplete-suggestions"></div>
                </div>
                <div class="routing-input-group">
                  <input type="text" id="route-end" placeholder="End" autocomplete="off" />
                  <button id="select-end-on-map" title="Select end point on map">
                    <span
                      class="material-symbols material-symbols-fill routing-panel-icon"
                      style="color: var(--routing-color-end)"
                      >location_on</span
                    >
                  </button>
                  <button
                    id="use-current-location-end"
                    title="Use my current location for end point"
                  >
                    <span class="material-symbols routing-panel-icon">my_location</span>
                  </button>
                  <button id="clear-point-end" title="Clear end point">
                    <span class="material-symbols material-symbols-fill routing-panel-icon"
                      >cancel</span
                    >
                  </button>
                  <div id="route-end-suggestions" class="autocomplete-suggestions"></div>
                </div>
                <div class="routing-input-group">
                  <select id="route-profile" title="Select routing mode">
                    <option value="driving" selected>Car</option>
                    <option value="bike">Bike</option>
                    <option value="foot">Foot</option>
                  </select>
                  <button id="save-route-btn" title="Save current route to the map">
                    Save Route
                  </button>
                  <button id="clear-route-btn" title="Clear the current route and all points">
                    Clear
                  </button>
                </div>
                <div
                  id="routing-summary-container"
                  style="display: none; font-size: 12px; margin: 0; text-align: center; padding: 0"
                ></div>
                <div id="directions-panel" class="collapsed">
                  <div id="directions-panel-header">
                    <span class="header-arrow"></span>Directions
                  </div>
                  <div id="directions-list"></div>
                </div>
              </div>
            </div>
            <div id="strava-panel" class="tab-panel">
              <div id="strava-panel-content">
                <p style="padding: 15px; text-align: center">
                  Connect with Strava to see your activities on the map.
                </p>
              </div>
            </div>
            <div id="settings-panel" class="tab-panel"></div>
          </div>
        </div>
      </div>

      <div id="custom-layers-panel"></div>
      <div id="elevation-div"></div>
      <div id="custom-cursor-start" class="custom-cursor">
        <span class="material-symbols material-symbols-fill material-symbols-map-marker"
          >location_on</span
        >
      </div>
      <div id="custom-cursor-end" class="custom-cursor">
        <span class="material-symbols material-symbols-fill material-symbols-map-marker"
          >location_on</span
        >
      </div>
      <div id="custom-cursor-via" class="custom-cursor">
        <span class="material-symbols material-symbols-fill material-symbols-map-marker"
          >location_on</span
        >
      </div>
    </div>

    <script src="js/secrets.js"></script>
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/ui-handlers.js"></script>
    <script src="js/map-interactions.js"></script>
    <script src="js/file-handlers.js"></script>
    <script src="js/elevation.js"></script>
    <script src="js/routing.js"></script>
    <script src="js/strava.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
