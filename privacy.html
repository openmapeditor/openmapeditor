<!doctype html>
<!-- Copyright (C) 2025 Aron Sommer. See LICENSE file for full license details. -->
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Privacy Policy - OpenMapEditor</title>

    <style>
      /* Roboto Font */
      @font-face {
        font-family: "Roboto";
        font-style: normal;
        font-weight: 100 900;
        src: url(/fonts/Roboto-VariableFont_wdth,wght.woff2) format("woff2");
      }
      /* Define light and dark theme variables, just like in style.css */
      :root {
        --color-white: #ffffff;
        --color-grey: #9aa0a6;
        --color-blue: #4285f4;
        /* Light Theme (default) */
        --background-color: var(--color-white);
        --text-color: #333;
        --border-color: #eaecef;
        --highlight-color: var(--color-blue);
      }
      body.dark-mode {
        /* Dark Theme */
        --background-color: #1b1c1d;
        --text-color: var(--color-white);
        --border-color: #575b5f;
      }
      body {
        font-family: "Roboto", sans-serif; /* Use the same font */
        line-height: 1.6;
        color: var(--text-color);
        background-color: var(--background-color);
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        font-size: var(--font-size-14);
      }
      h1,
      h2 {
        border-bottom: 1px solid var(--border-color);
        padding-bottom: 5px;
        font-size: var(--font-size-18);
      }
      a {
        color: var(--highlight-color);
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }
      .container {
        padding: 20px;
        padding-top: 0;
      }
    </style>
  </head>
  <body>
    <script>
      (function () {
        if (localStorage.getItem("theme") === "dark") {
          document.body.classList.add("dark-mode");
        }
      })();
    </script>

    <div class="container">
      <h1>Privacy Policy for OpenMapEditor</h1>
      <p><strong>Effective Date:</strong> September 13, 2025</p>

      <h2>1. Introduction</h2>
      <p>
        Welcome to OpenMapEditor. This Privacy Policy explains how we handle your information when
        you use our web application. Your privacy is critically important to us.
      </p>
      <p>
        <strong>Core Privacy Principle:</strong> OpenMapEditor operates entirely within your web
        browser (client-side). Your geographic data files (GPX, KML, etc.) are processed on your
        local machine and are never uploaded to, or stored on, our servers.
      </p>

      <h2>2. Automatic Location Detection</h2>
      <p>
        When you first load the map without a saved location in the URL, your approximate location
        is automatically determined using the Google Geolocation API to center the map on your
        region. This provides a better initial experience by showing a relevant area instead of a
        world view. This does not track or store your location and happens only once on page load.
      </p>

      <h2>3. Third-Party Services for Optional Features</h2>
      <p>
        To provide optional features like search, routing, elevation profiles, and POI finder, we
        send the minimum necessary data to specialized third-party services. Your personal files and
        full Strava history are never sent.
      </p>
      <ul>
        <li>
          <strong>Search:</strong> When you use the search bar, your text query is sent to
          OpenStreetMap to find locations.
        </li>
        <li>
          <strong>Routing:</strong> When you calculate a route, the coordinates of your start, end,
          and via points are sent to your chosen provider (Mapbox or OSRM).
        </li>
        <li>
          <strong>Elevation Profiles:</strong> When elevation data is already present in your file,
          it is used directly. Otherwise, the path's coordinates are sent to your chosen elevation
          provider (Google Maps Elevation API or GeoAdmin API for paths in Switzerland).
        </li>
        <li>
          <strong>Strava Integration:</strong> When you connect your account, we communicate
          directly with the Strava API to request your activity data, which is then processed only
          in your browser.
        </li>
        <li>
          <strong>POI Finder:</strong> Search queries and map bounds are sent to OpenStreetMap's
          Overpass API to find points of interest in the current map view.
        </li>
      </ul>
      <p>
        We encourage you to review the privacy policies of these third-party services for more
        information on how they handle data.
      </p>

      <h2>4. Strava Connection Methods</h2>
      <p>
        The Strava integration can operate in one of two ways, depending on how the application is
        configured by its administrator:
      </p>
      <ol>
        <li>
          <strong>Standard Connection:</strong> You may be asked to authorize a pre-configured
          "OpenMapEditor" application.
        </li>
        <li>
          <strong>Personal API Key Connection:</strong> You may be asked to provide your own
          personal Client ID and Secret from an API application you create in your own Strava
          account. These keys are kept in memory for your session only and are never transmitted to
          us.
        </li>
      </ol>
      <p>
        In <strong>both</strong> scenarios, the core privacy principles remain the same: your
        activity data is processed only in your browser and is never stored on our servers.
      </p>

      <h2>5. Information We Collect via the Strava API</h2>
      <p>
        When you grant the application access to your Strava account, we may collect the following
        types of "Personal Data" via the Strava API:
      </p>
      <ul>
        <li>
          <strong>Strava Profile Information:</strong> Your basic profile details to confirm your
          identity.
        </li>
        <li>
          <strong>Activity Data:</strong> Your activity history, including details like name, type,
          distance, time, and summary polylines (routes).
        </li>
      </ul>
      <p>
        This data is processed only in your browser. We also receive an authentication token from
        Strava, which is stored temporarily in your browser's <code>sessionStorage</code> and is
        deleted when you close the browser tab.
      </p>

      <h2>6. How We Use Your Information</h2>
      <p>
        We use the data collected from third-party services and the Strava API for the sole purpose
        of providing the application's functionality.
      </p>
      <p>
        <strong>We will never:</strong>
      </p>
      <ul>
        <li>Share your Strava data with other users or any third parties.</li>
        <li>Sell, license, or lease your Strava data.</li>
        <li>Use your Strava data for advertising purposes.</li>
      </ul>

      <h2>7. Strava API Usage Disclosure</h2>
      <p>
        <strong>Important:</strong> As required by the Strava API Agreement, you must be aware that
        Strava may monitor and collect usage data related to your use of the Strava API through this
        application. This data is collected by Strava for their business purposes, which may include
        enhancing their platform and ensuring compliance.
      </p>

      <h2>8. Your Rights and Data Control</h2>
      <p>You have full control over your data.</p>
      <ul>
        <li>
          <strong>Withdrawing Consent:</strong> You can revoke the application's access to your
          Strava data at any time by visiting your Strava account settings under "My Apps".
        </li>
        <li>
          <strong>Data Deletion:</strong> Because we do not store your data on our servers, revoking
          access in your Strava settings is sufficient to disconnect the application. All data is
          automatically deleted from the application when you close your browser tab.
        </li>
      </ul>

      <h2>9. Changes to This Privacy Policy</h2>
      <p>
        We may update this Privacy Policy from time to time. We will notify you of any changes by
        posting the new Privacy Policy on this page.
      </p>

      <h2>10. Contact Us</h2>
      <p>
        If you have any questions about this Privacy Policy, please contact us at:
        <a href="mailto:openmapeditor@gmail.com">openmapeditor@gmail.com</a>.
      </p>
    </div>
  </body>
</html>
